import{r as t,j as e,$ as P,m as h}from"./app-CwGju8CY.js";import{D as R,R as k}from"./react-paginate-Dph2J3Wn.js";import{D as c}from"./Dropdown-lsr-Gn_u.js";import{a as q,b as M}from"./constants-BAQv67Aw.js";import{U as _}from"./UserLayout-BdcHGR3u.js";import{M as E}from"./Map-DIRzbPuu.js";import"./helper-BrshmBKU.js";import"./index-BpiK8j0g.js";function T({locations:s,filters:o,categories:f,regions:v,auth:j}){const[n,y]=t.useState(o.category||"all"),[r,N]=t.useState(o.region||"all"),[p,b]=t.useState(o.search||""),[l,S]=t.useState(o.price||""),[i,w]=t.useState(o.sort||""),[m,C]=t.useState(null),[d,L]=t.useState(s.data[0]),x=t.useRef(),D=()=>{var a;(a=x.current)==null||a.startNavigation()},g=()=>{h.get(route("location.maps"),{search:p,category:n,region:r,price_range:l,sort:i},{preserveState:!0,preserveScroll:!0})};return t.useEffect(()=>{g()},[n,r,l,i]),t.useEffect(()=>{if(m){const a=s.data.find(u=>u.id===m);L(a)}},[m,s.data]),e.jsxs(e.Fragment,{children:[e.jsx(P,{title:"Maps"}),e.jsxs(_,{auth:j,children:[e.jsxs("section",{className:"relative flex flex-col px-4 items-center font-poppins pt-40",children:[e.jsx("div",{className:"w-full h-[37.5rem] locations-hero absolute top-0 left-0 -z-10"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 justify-between items-center container mx-auto",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("h1",{className:"text-4xl font-semibold text-primary-opaque",children:"Maps"}),e.jsx("p",{className:"text-white mt-4",children:"Dapatkan Pengalaman Liburan Terbaik di sini"})]}),e.jsxs("form",{onSubmit:a=>{a.preventDefault(),g()},className:"flex flex-col sm:flex-row gap-4 w-full",children:[e.jsx("input",{type:"text",placeholder:"Search for a destination",value:p,onChange:a=>b(a.target.value),className:"w-full h-12 px-4 rounded-xl border border-gray-300 bg-white"}),e.jsx("button",{type:"submit",className:"py-3.5 px-8 text-white rounded-xl font-semibold bg-primary-opaque",children:"Search"})]})]}),e.jsxs("div",{className:"mt-12 flex container mx-auto flex-wrap justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(c,{options:[{label:"Semua kategori",value:null},...f.map(a=>({label:a.name,value:a.id}))],value:n,onChange:y,placeholder:"All Categories"}),e.jsx(c,{options:[{label:"Semua lokasi",value:null},...v.map(a=>({label:a.name,value:a.id}))],value:r,onChange:N,placeholder:"All Locations"}),e.jsx(c,{options:q,value:l,onChange:S,placeholder:"All Price"})]}),e.jsx(c,{options:M,value:i,onChange:w})]})]}),e.jsx("main",{className:"container relative mx-auto px-4 grid grid-cols-12 gap-4 sm:gap-12 mt-12 mb-32 z-10 font-poppins",children:s.data.length===0?e.jsx("div",{className:"col-span-12 text-center py-20",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-500",children:"No Locations Found"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col gap-12 col-span-12 md:col-span-4",children:s.data.map((a,u)=>e.jsx(R,{item:a,action:()=>C(a.id)},u))}),e.jsx("div",{className:"col-span-12 md:col-span-8",children:e.jsxs("div",{id:"maps",className:"h-[600px] w-full sticky top-36",children:[e.jsx("div",{className:"rounded-3xl overflow-hidden",children:e.jsx(E,{lat:d.latitude,long:d.longitude,location:d,ref:x})}),e.jsxs("div",{className:"flex gap-2 items-center mt-4",children:[e.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${r.latitude},${r.longitude}`,target:"_blank",className:"text-sm text-gray-400 underline",children:"See in Google Maps"}),e.jsx("span",{className:"text-sm text-gray-400",children:"or"}),e.jsx("button",{className:"hover:cursor-pointer text-sm text-gray-400 underline",onClick:D,children:"Navigate"})]})]})})]})}),e.jsx("div",{className:"container mx-auto px-4 mb-32 z-10 font-poppins",children:e.jsx(k,{breakLabel:"...",nextLabel:"Next →",onPageChange:a=>h.get(route("location.maps"),{search:p,category:n,region:r,price_range:l,sort:i,page:a.selected+1},{preserveState:!0,preserveScroll:!0}),pageRangeDisplayed:5,forcePage:s.current_page-1,pageCount:s.last_page,previousLabel:"← Previous",renderOnZeroPageCount:null,containerClassName:"list-unstyled py-4 flex items-center justify-center gap-4 w-full",previousClassName:"mr-auto font-poppins text-gray-500 font-medium hover:cursor-pointer",nextClassName:"ml-auto font-poppins text-gray-500 font-medium hover:cursor-pointer",pageClassName:"w-12 h-12 hover:cursor-pointer grid place-content-center rounded-full aspect-square text-gray-500 hover:bg-primary-transparent font-medium font-poppins",activeClassName:"w-12 h-12 hover:cursor-pointer grid place-content-center rounded-full aspect-square text-gray-500 bg-primary-transparent text-primary-opaque font-medium font-poppins"})})]})]})}export{T as default};
