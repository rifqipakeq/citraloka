import{q as x,v as h,j as e,$ as g}from"./app-CwGju8CY.js";import{A as j}from"./AuthenticatedLayout-CUluGPaX.js";import{C as v,S as k}from"./sweetalert2.esm.all-BOihAQ_-.js";import{I as p}from"./Input-CN6BAMDO.js";import{B as d}from"./Button-dMKSO52k.js";import{C as b}from"./Card-mzitNwf1.js";import{f}from"./helper-BrshmBKU.js";import{InteractiveRatingStars as r}from"./Edit-Dwb9rHN_.js";import"./ApplicationLogo-32h4bEtG.js";import"./transition-GvcU358S.js";function K({auth:l}){const{transactions:o}=x().props,{data:t,setData:s,post:m,errors:n}=h({transaction_id:"",rate_checkin:0,rate_lokasi:0,rate_kebersihan:0,rate_komunikasi:0,rate_keakuratan:0,rate_nilaiekonomis:0,review:""}),u=a=>{a.preventDefault(),m(route("reviews.store"),{onSuccess:()=>{k.fire({title:"Success",text:"Data created successfully!",icon:"success",showConfirmButton:!1,timer:1500})}})},i=o.find(a=>a.id==t.transaction_id);return e.jsxs(j,{user:l.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Create Review"}),children:[e.jsx(g,{title:"Create Review"}),e.jsx(v,{children:e.jsx(b,{title:"Create Review",children:e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block font-medium text-sm text-gray-700",children:"User"}),e.jsx("input",{type:"text",className:"w-full border-gray-300 rounded-md shadow-xs bg-gray-100",value:l.user.name,disabled:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block font-medium text-sm text-gray-700",children:"Transaction"}),e.jsxs("select",{className:"w-full border-gray-300 rounded-md shadow-xs",value:t.transaction_id,onChange:a=>s("transaction_id",a.target.value),children:[e.jsx("option",{value:"",children:"Select Transaction"}),o.map(a=>{var c;return e.jsxs("option",{value:a.id,children:[a.code," -"," ",(c=a.location)==null?void 0:c.title," -"," ",f(a.updated_at)]},a.id)})]}),n.transaction_id&&e.jsx("div",{className:"text-red-500 text-sm mt-1",children:n.transaction_id})]}),i&&i.location.image_urls&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block font-medium text-sm text-gray-700",children:"Preview Image"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2",children:i.location.image_urls.length>0&&i.location.image_urls.map(a=>e.jsx("img",{src:a,alt:"Image "+a,className:"w-full h-48 object-cover overflow-hidden rounded-md shadow-sm"}))})]}),e.jsx("div",{className:"mb-4",children:e.jsx(p,{label:"Review",type:"textarea",value:t.review,onChange:a=>s("review",a.target.value),errors:n.review,placeholder:"Write your review..."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx(r,{label:"Kebersihan",rating:t.rate_kebersihan,onChange:a=>s("rate_kebersihan",a)}),e.jsx(r,{label:"Keakuratan",rating:t.rate_keakuratan,onChange:a=>s("rate_keakuratan",a)}),e.jsx(r,{label:"Check In",rating:t.rate_checkin,onChange:a=>s("rate_checkin",a)}),e.jsx(r,{label:"Komunikasi",rating:t.rate_komunikasi,onChange:a=>s("rate_komunikasi",a)}),e.jsx(r,{label:"Lokasi",rating:t.rate_lokasi,onChange:a=>s("rate_lokasi",a)}),e.jsx(r,{label:"Nilai Ekonomis",rating:t.rate_nilaiekonomis,onChange:a=>s("rate_nilaiekonomis",a)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{type:"submit"}),e.jsx(d,{type:"cancel",url:route("reviews.index")})]})]})})})]})}export{K as default};
