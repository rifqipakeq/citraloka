import{q as h,v as f,j as e,$ as j}from"./app-CwGju8CY.js";import{A as g}from"./AuthenticatedLayout-CUluGPaX.js";import{C as v,S as b}from"./sweetalert2.esm.all-BOihAQ_-.js";import{I as C}from"./Input-CN6BAMDO.js";import{B as o}from"./Button-dMKSO52k.js";import{C as N}from"./Card-mzitNwf1.js";import{C as y}from"./Checkbox-DG4B1QMp.js";import"./ApplicationLogo-32h4bEtG.js";import"./transition-GvcU358S.js";function A({auth:d}){const{permissions:m,role:i}=h().props,{data:r,setData:n,post:c,errors:a}=f({name:i.name,selectedPermissions:i.permissions.map(s=>s.name),_method:"put"}),u=s=>{let t=r.selectedPermissions;t.includes(s.target.value)?t.splice(t.indexOf(s.target.value),1):t.push(s.target.value),n("selectedPermissions",t)},x=async s=>{s.preventDefault(),c(route("roles.update",i.id),{onSuccess:()=>{b.fire({title:"Success!",text:"Data updated successfully!",icon:"success",showConfirmButton:!1,timer:1500})}})};return e.jsxs(g,{user:d.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Edit Role"}),children:[e.jsx(j,{title:"Edit Roles"}),e.jsx(v,{children:e.jsx(N,{title:"Edit role",children:e.jsxs("form",{onSubmit:x,children:[e.jsx("div",{className:"mb-4",children:e.jsx(C,{label:"Role Name",type:"text",value:r.name,onChange:s=>n("name",s.target.value),errors:a.name,placeholder:"Input role name.."})}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(m).map(([s,t],p)=>e.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:s}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(l=>e.jsx(y,{label:l,value:l,onChange:u,defaultChecked:r.selectedPermissions.includes(l)},l))}),(a==null?void 0:a.selectedPermissions)&&e.jsx("div",{className:"text-xs text-red-500 mt-4",children:a.selectedPermissions})]},p))})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{type:"submit"}),e.jsx(o,{type:"cancel",url:route("roles.index")})]})]})})})]})}export{A as default};
